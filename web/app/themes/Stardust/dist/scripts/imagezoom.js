!function t(e,i,n){function o(t,n){if(i[t])return i[t].exports;if(e[t])return r(t,o);throw new Error('cannot find module "'+t+'"')}function r(o,r){var s=i[o]={exports:{}},h=e[o],a=h[2],c=h[0];return c.call(s.exports,function(t){var i=e[o][1][t];return r(i?i:t)},s,s.exports,t,e,i,n),a&&(i[a]=i[o]),i[o].exports}var s=function(){return this}();for(var h in n)n[h]?s[n[h]]=o(h):o(h);return o.duo=!0,o.cache=i,o.modules=e,o}({1:[function(t,e,i){function n(t,e){return u?"translate3d("+t+"px, "+e+"px, 0)":"translate("+t+"px, "+e+"px)"}function o(t,e){return this instanceof o?(this.thumb=t,this.thumb.getAttribute("data-zoom-overlay")&&this.overlay(),this.padding(),this.backgroundURL=e,void(this.viewport={})):new o(t,e)}var r=t("emitter"),s=t("transform-property"),h=t("redraw"),a=t("after-transition"),c=t("scale-to-bounds"),l=t("viewport"),u=t("has-translate3d"),d=t("overlay"),f=t("delegate"),p=t("events"),m=t("next-tick"),v=f.bind(document,"[data-zoom-url]","click",function(t){new o(t.target).show()});e.exports=i=o,r(o.prototype),o.prototype.overlay=function(){return this._overlay=new d("image-zoom-overlay"),this},o.prototype.padding=function(t){return this._padding=t||this.thumb.getAttribute("data-zoom-padding")||0,this},o.prototype.loadImage=function(t){if(this.hasLoaded)return t();var e=this.clone=new Image;this.loaderTimer=setTimeout(function(){this.hasLoaded||this.loading()}.bind(this),50),this.clone.onload=function(){this.hasLoaded=!0,this.finishLoading(),this.imageWidth=e.width,this.imageHeight=e.height,t()}.bind(this),e.src=this.src},o.prototype.loading=function(){return this.emit("loading",this.thumb),this.thumb.classList.add("loading"),this},o.prototype.finishLoading=function(){return this.emit("end-loading",this.thumb),window.clearTimeout(this.loaderTimer),this.thumb.classList.remove("loading"),this},o.prototype.getDimensions=function(){var t=this.thumb.getBoundingClientRect();return this.origin={x:t.left,y:t.top,w:this.thumb.clientWidth,h:this.thumb.clientHeight},this.src=this.thumb.getAttribute("data-zoom-url")||this.backgroundURL||this.thumb.src,this},o.prototype.appendClone=function(){return this.clone.classList.add("zoom-image-clone"),this.windowEvents=p(window,this),this.windowEvents.bind("resize"),document.body.appendChild(this.clone),this},o.prototype.onresize=function(){this.determineZoomedSize(),this.updateStyles()},o.prototype.determineZoomedSize=function(){var t=this.imageWidth,e=this.imageHeight,i=l(),n=c(t,e,i.width-this._padding,i.height-this._padding),o=i.width/2-n.width/2,r=i.height/2-n.height/2;return this.target={x:o,y:r,w:n.width,h:n.height},this},o.prototype.updateStyles=function(){var t=this.target,e=this.clone.style;return e.width=t.w+"px",e.height=t.h+"px",e.left=t.x+"px",e.top=t.y+"px",this.emit("position updated",t),this},o.prototype.setOriginalDeminsions=function(){var t=this.origin,e=this.target;if(this.updateStyles(),s){var i=t.w/e.w,o=t.x+t.w/2-(e.x+e.w/2),r=t.y+t.h/2-(e.y+e.h/2),h=n(o,r),a=" scale("+i+")";this.clone.style[s]=h+a}return this},o.prototype.setTargetPosition=function(){return s&&(this.clone.style[s]=n(0,0)+" scale(1)"),this},o.prototype.show=function(t){function e(){this.cancelZoom||(this.emit("showing"),this._overlay&&this._overlay.show(),this.determineZoomedSize().setOriginalDeminsions().appendClone(),this.thumb.style.opacity=0,h(this.clone),this.setTargetPosition(),this.isZoomed=!0,a.once(this.clone,function(){this.emit("shown")}.bind(this)))}if(t&&t.preventDefault(),!this.isZoomed&&!this.isShowing)return this.getDimensions(),this.cancelZoom=!1,this.isShowing=!0,m(function(){this.docEvents=p(document,this),this.docEvents.bind("touchstart","hide"),this.docEvents.bind("click","hide")}.bind(this)),this.loadImage(e.bind(this)),this},o.prototype.hide=function(){return this.isShowing=!1,this.isZoomed?(this.windowEvents.unbind(),this.docEvents.unbind(),this.setOriginalDeminsions(),this.emit("hiding"),this._overlay&&this._overlay.hide(),this.isZoomed=!1,a.once(this.clone,function(){this.thumb.style.opacity=1,this.clone.parentNode.removeChild(this.clone),this.emit("hidden")}.bind(this)),this):(this.cancelZoom=!0,this.docEvents&&this.docEvents.unbind(),this.emit("cancel"),this.finishLoading(),this._overlay&&this._overlay.hide(),this.emit("hiding"),this.emit("hidden"),void(this.isZoomed=!1))},o.prototype.use=function(t,e){return t(this,e),this},i.stopListening=function(){f.unbind(document,"click",v,!1)}},{emitter:2,"transform-property":3,redraw:4,"after-transition":5,"scale-to-bounds":6,viewport:7,"has-translate3d":8,overlay:9,delegate:10,events:11,"next-tick":12}],2:[function(t,e,i){function n(t){if(t)return o(t)}function o(t){for(var e in n.prototype)t[e]=n.prototype[e];return t}e.exports=n,n.prototype.on=n.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks[t]=this._callbacks[t]||[]).push(e),this},n.prototype.once=function(t,e){function i(){n.off(t,i),e.apply(this,arguments)}var n=this;return this._callbacks=this._callbacks||{},i.fn=e,this.on(t,i),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var i=this._callbacks[t];if(!i)return this;if(1==arguments.length)return delete this._callbacks[t],this;for(var n,o=0;o<i.length;o++)if(n=i[o],n===e||n.fn===e){i.splice(o,1);break}return this},n.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),i=this._callbacks[t];if(i){i=i.slice(0);for(var n=0,o=i.length;n<o;++n)i[n].apply(this,e)}return this},n.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks[t]||[]},n.prototype.hasListeners=function(t){return!!this.listeners(t).length}},{}],3:[function(t,e,i){for(var n,o=["webkitTransform","MozTransform","msTransform","OTransform","transform"],r=document.createElement("p"),s=0;s<o.length;s++)if(n=o[s],null!=r.style[n]){e.exports=n;break}},{}],4:[function(t,e,i){function n(t){t.offsetHeight}e.exports=n},{}],5:[function(t,e,i){function n(t,e){return o(t)?r(t).bind(e):e.apply(t)}var o=t("has-transitions"),r=t("css-emitter");n.once=function(t,e){n(t,function i(){e.apply(t),r(t).unbind(i)})},e.exports=n},{"has-transitions":13,"css-emitter":14}],13:[function(t,e,i){function n(t){if(!o)return!1;if(!t)return null!=o;var e=getComputedStyle(t)[o];return""!==e&&0!==parseFloat(e)}for(var o,r=["transitionDuration","MozTransitionDuration","webkitTransitionDuration"];r.length;){var s=r.shift();s in document.body.style&&(o=s)}e.exports=n},{}],14:[function(t,e,i){function n(t){return this instanceof n?void(this.el=t):new n(t)}var o=t("event"),r=["transitionend","webkitTransitionEnd","oTransitionEnd","MSTransitionEnd","animationend","webkitAnimationEnd","oAnimationEnd","MSAnimationEnd"];e.exports=n,n.prototype.bind=function(t){for(var e=0;e<r.length;e++)o.bind(this.el,r[e],t);return this},n.prototype.unbind=function(t){for(var e=0;e<r.length;e++)o.unbind(this.el,r[e],t);return this},n.prototype.once=function(t){function e(){i.unbind(e),t.apply(i.el,arguments)}var i=this;return i.bind(e),this}},{event:15}],15:[function(t,e,i){var n=window.addEventListener?"addEventListener":"attachEvent",o=window.removeEventListener?"removeEventListener":"detachEvent",r="addEventListener"!==n?"on":"";i.bind=function(t,e,i,o){return t[n](r+e,i,o||!1),i},i.unbind=function(t,e,i,n){return t[o](r+e,i,n||!1),i}},{}],6:[function(t,e,i){e.exports=function(t,e,i,n){var o=Math.min(i/t,n/e);return o>1&&(o=1),{width:t*o,height:e*o}}},{}],7:[function(t,e,i){e.exports=function(){var t=window,e=document,i=e.documentElement,n=e.getElementsByTagName("body")[0];return{width:t.innerWidth||i.clientWidth||n.clientWidth,height:t.innerHeight||i.clientHeight||n.clientHeight}}},{}],8:[function(t,e,i){var n=t("transform-property");if(n&&window.getComputedStyle){var o={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"},r=document.createElement("div");r.style[n]="translate3d(1px,1px,1px)",document.body.insertBefore(r,null);var s=getComputedStyle(r).getPropertyValue(o[n]);document.body.removeChild(r),e.exports=null!=s&&s.length&&"none"!=s}else e.exports=!1},{"transform-property":3}],9:[function(t,e,i){function n(t){return this instanceof n?(this.el=document.createElement("div"),this.el.className="Overlay",void(t&&this.el.classList.add(t))):new n}var o=t("emitter"),r=t("redraw"),s=t("after-transition");e.exports=n,o(n.prototype),n.prototype.show=function(){return document.body.appendChild(this.el),this.emit("show"),r(this.el),s.once(this.el,function(){this.emit("shown")}.bind(this)),this.el.classList.add("show"),this},n.prototype.hide=function(){if(this.el)return this.emit("hide"),s.once(this.el,function(){this.emit("hidden"),this.el.parentNode.removeChild(this.el)}.bind(this)),this.el.classList.remove("show"),this}},{emitter:2,redraw:4,"after-transition":5}],10:[function(t,e,i){var n=t("closest"),o=t("event");i.bind=function(t,e,i,r,s){return o.bind(t,i,function(i){var o=i.target||i.srcElement;i.delegateTarget=n(o,e,!0,t),i.delegateTarget&&r.call(t,i)},s)},i.unbind=function(t,e,i,n){o.unbind(t,e,i,n)}},{closest:16,event:15}],16:[function(t,e,i){var n=t("matches-selector");e.exports=function(t,e,i,o){for(t=i?{parentNode:t}:t,o=o||document;(t=t.parentNode)&&t!==document;){if(n(t,e))return t;if(t===o)return}}},{"matches-selector":17}],17:[function(t,e,i){function n(t,e){if(!t||1!==t.nodeType)return!1;if(s)return s.call(t,e);for(var i=o.all(e,t.parentNode),n=0;n<i.length;++n)if(i[n]==t)return!0;return!1}var o=t("query"),r=Element.prototype,s=r.matches||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector;e.exports=n},{query:18}],18:[function(t,e,i){function n(t,e){return e.querySelector(t)}i=e.exports=function(t,e){return e=e||document,n(t,e)},i.all=function(t,e){return e=e||document,e.querySelectorAll(t)},i.engine=function(t){if(!t.one)throw new Error(".one callback required");if(!t.all)throw new Error(".all callback required");return n=t.one,i.all=t.all,i}},{}],11:[function(t,e,i){function n(t,e){if(!(this instanceof n))return new n(t,e);if(!t)throw new Error("element required");if(!e)throw new Error("object required");this.el=t,this.obj=e,this._events={}}function o(t){var e=t.split(/ +/);return{name:e.shift(),selector:e.join(" ")}}var r=t("event"),s=t("delegate");e.exports=n,n.prototype.sub=function(t,e,i){this._events[t]=this._events[t]||{},this._events[t][e]=i},n.prototype.bind=function(t,e){function i(){var t=[].slice.call(arguments).concat(l);a[e].apply(a,t)}var n=o(t),h=this.el,a=this.obj,c=n.name,e=e||"on"+c,l=[].slice.call(arguments,2);return n.selector?i=s.bind(h,n.selector,c,i):r.bind(h,c,i),this.sub(c,e,i),i},n.prototype.unbind=function(t,e){if(0==arguments.length)return this.unbindAll();if(1==arguments.length)return this.unbindAllOf(t);var i=this._events[t];if(i){var n=i[e];n&&r.unbind(this.el,t,n)}},n.prototype.unbindAll=function(){for(var t in this._events)this.unbindAllOf(t)},n.prototype.unbindAllOf=function(t){var e=this._events[t];if(e)for(var i in e)this.unbind(t,i)}},{event:15,delegate:10}],12:[function(t,e,i){"use strict";if("function"==typeof setImmediate)e.exports=function(t){setImmediate(t)};else if("undefined"!=typeof process&&"function"==typeof process.nextTick)e.exports=process.nextTick;else if("undefined"==typeof window||window.ActiveXObject||!window.postMessage)e.exports=function(t){setTimeout(t)};else{var n=[];window.addEventListener("message",function(){for(var t=0;t<n.length;)try{n[t++]()}catch(e){throw n=n.slice(t),window.postMessage("tic!","*"),e}n.length=0},!0),e.exports=function(t){n.length||window.postMessage("tic!","*"),n.push(t)}}},{}]},{},{1:"Imagezoom"});
//# sourceMappingURL=imagezoom.js.map
