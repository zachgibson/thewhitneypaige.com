(function(){var t;t=function(){function t(t,e){var o,i;if(this.options={target:"instafeed",get:"popular",resolution:"thumbnail",sortBy:"none",links:!0,mock:!1,useHttp:!1},"object"==typeof t)for(o in t)i=t[o],this.options[o]=i;this.context=null!=e?e:this,this.unique=this._genKey()}return t.prototype.hasNext=function(){return"string"==typeof this.context.nextUrl&&this.context.nextUrl.length>0},t.prototype.next=function(){return!!this.hasNext()&&this.run(this.context.nextUrl)},t.prototype.run=function(e){var o,i,n;if("string"!=typeof this.options.clientId&&"string"!=typeof this.options.accessToken)throw new Error("Missing clientId or accessToken.");if("string"!=typeof this.options.accessToken&&"string"!=typeof this.options.clientId)throw new Error("Missing clientId or accessToken.");return null!=this.options.before&&"function"==typeof this.options.before&&this.options.before.call(this),"undefined"!=typeof document&&null!==document&&(n=document.createElement("script"),n.id="instafeed-fetcher",n.src=e||this._buildUrl(),o=document.getElementsByTagName("head"),o[0].appendChild(n),i="instafeedCache"+this.unique,window[i]=new t(this.options,this),window[i].unique=this.unique),!0},t.prototype.parse=function(t){var e,o,i,n,s,r,a,c,l,h,p,d,u,f,m,g,w,y,v,b,k,x,I,_,E,N,j,B,C,T,O,M,z;if("object"!=typeof t){if(null!=this.options.error&&"function"==typeof this.options.error)return this.options.error.call(this,"Invalid JSON data"),!1;throw new Error("Invalid JSON response")}if(200!==t.meta.code){if(null!=this.options.error&&"function"==typeof this.options.error)return this.options.error.call(this,t.meta.error_message),!1;throw new Error("Error from Instagram: "+t.meta.error_message)}if(0===t.data.length){if(null!=this.options.error&&"function"==typeof this.options.error)return this.options.error.call(this,"No images were returned from Instagram"),!1;throw new Error("No images were returned from Instagram")}if(null!=this.options.success&&"function"==typeof this.options.success&&this.options.success.call(this,t),this.context.nextUrl="",null!=t.pagination&&(this.context.nextUrl=t.pagination.next_url),"none"!==this.options.sortBy)switch(O="random"===this.options.sortBy?["","random"]:this.options.sortBy.split("-"),T="least"===O[0],O[1]){case"random":t.data.sort(function(){return.5-Math.random()});break;case"recent":t.data=this._sortBy(t.data,"created_time",T);break;case"liked":t.data=this._sortBy(t.data,"likes.count",T);break;case"commented":t.data=this._sortBy(t.data,"comments.count",T);break;default:throw new Error("Invalid option for sortBy: '"+this.options.sortBy+"'.")}if("undefined"!=typeof document&&null!==document&&this.options.mock===!1){if(g=t.data,C=parseInt(this.options.limit,10),null!=this.options.limit&&g.length>C&&(g=g.slice(0,C)),a=document.createDocumentFragment(),null!=this.options.filter&&"function"==typeof this.options.filter&&(g=this._filter(g,this.options.filter)),null!=this.options.template&&"string"==typeof this.options.template){for(l="",f="",b="",z=document.createElement("div"),p=0,E=g.length;p<E;p++){if(d=g[p],u=d.images[this.options.resolution],"object"!=typeof u)throw r="No image found for resolution: "+this.options.resolution+".",new Error(r);k=u.width,y=u.height,v="square",k>y&&(v="landscape"),k<y&&(v="portrait"),m=u.url,h=window.location.protocol.indexOf("http")>=0,h&&!this.options.useHttp&&(m=m.replace(/https?:\/\//,"//")),f=this._makeTemplate(this.options.template,{model:d,id:d.id,link:d.link,type:d.type,image:m,width:k,height:y,orientation:v,caption:this._getObjectProperty(d,"caption.text"),likes:d.likes.count,comments:d.comments.count,location:this._getObjectProperty(d,"location.name")}),l+=f}for(z.innerHTML=l,n=[],i=0,o=z.childNodes.length;i<o;)n.push(z.childNodes[i]),i+=1;for(I=0,N=n.length;I<N;I++)B=n[I],a.appendChild(B)}else for(_=0,j=g.length;_<j;_++){if(d=g[_],w=document.createElement("img"),u=d.images[this.options.resolution],"object"!=typeof u)throw r="No image found for resolution: "+this.options.resolution+".",new Error(r);m=u.url,h=window.location.protocol.indexOf("http")>=0,h&&!this.options.useHttp&&(m=m.replace(/https?:\/\//,"//")),w.src=m,this.options.links===!0?(e=document.createElement("a"),e.href=d.link,e.appendChild(w),a.appendChild(e)):a.appendChild(w)}if(M=this.options.target,"string"==typeof M&&(M=document.getElementById(M)),null==M)throw r='No element with id="'+this.options.target+'" on page.',new Error(r);M.appendChild(a),c=document.getElementsByTagName("head")[0],c.removeChild(document.getElementById("instafeed-fetcher")),x="instafeedCache"+this.unique,window[x]=void 0;try{delete window[x]}catch(t){s=t}}return null!=this.options.after&&"function"==typeof this.options.after&&this.options.after.call(this),!0},t.prototype._buildUrl=function(){var t,e,o;switch(t="https://api.instagram.com/v1",this.options.get){case"popular":e="media/popular";break;case"tagged":if(!this.options.tagName)throw new Error("No tag name specified. Use the 'tagName' option.");e="tags/"+this.options.tagName+"/media/recent";break;case"location":if(!this.options.locationId)throw new Error("No location specified. Use the 'locationId' option.");e="locations/"+this.options.locationId+"/media/recent";break;case"user":if(!this.options.userId)throw new Error("No user specified. Use the 'userId' option.");e="users/"+this.options.userId+"/media/recent";break;default:throw new Error("Invalid option for get: '"+this.options.get+"'.")}return o=t+"/"+e,o+=null!=this.options.accessToken?"?access_token="+this.options.accessToken:"?client_id="+this.options.clientId,null!=this.options.limit&&(o+="&count="+this.options.limit),o+="&callback=instafeedCache"+this.unique+".parse"},t.prototype._genKey=function(){var t;return t=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)},""+t()+t()+t()+t()},t.prototype._makeTemplate=function(t,e){var o,i,n,s,r;for(i=/(?:\{{2})([\w\[\]\.]+)(?:\}{2})/,o=t;i.test(o);)s=o.match(i)[1],r=null!=(n=this._getObjectProperty(e,s))?n:"",o=o.replace(i,function(){return""+r});return o},t.prototype._getObjectProperty=function(t,e){var o,i;for(e=e.replace(/\[(\w+)\]/g,".$1"),i=e.split(".");i.length;){if(o=i.shift(),!(null!=t&&o in t))return null;t=t[o]}return t},t.prototype._sortBy=function(t,e,o){var i;return i=function(t,i){var n,s;return n=this._getObjectProperty(t,e),s=this._getObjectProperty(i,e),o?n>s?1:-1:n<s?1:-1},t.sort(i.bind(this)),t},t.prototype._filter=function(t,e){var o,i,n,s,r;for(o=[],i=function(t){if(e(t))return o.push(t)},n=0,r=t.length;n<r;n++)s=t[n],i(s);return o},t}(),function(t,e){return"function"==typeof define&&define.amd?define([],e):"object"==typeof module&&module.exports?module.exports=e():t.Instafeed=e()}(this,function(){return t})}).call(this),function(t){window.twttr=function(t,e,o){var i,n=t.getElementsByTagName(e)[0],s=window.twttr||{};return t.getElementById(o)?s:(i=t.createElement(e),i.id=o,i.src="https://platform.twitter.com/widgets.js",n.parentNode.insertBefore(i,n),s._e=[],s.ready=function(t){s._e.push(t)},s)}(document,"script","twitter-wjs");var e=parseInt("1428121"),o="1428121.9b2b91b.62214e2c5be44efdba6a573e97327cf4",i="9b2b91b4679542d3a28022b8661cfba1",n=7,s=new Instafeed({get:"user",userId:e,accessToken:o,clientId:i,template:'<a style="width: 14%; height: '+Math.ceil(t(window).width()/n)+'px; display: block; background-size: cover; background-position: center center; background-repeat: no-repeat; background-image: url(https:{{image}})" href="{{link}}"></a>',resolution:"standard_resolution",limit:n,target:"instagramFooterFeed"});s.run();var r={common:{init:function(){},finalize:function(){}},home:{init:function(){},finalize:function(){}},about_us:{init:function(){}}},a={fire:function(t,e,o){var i,n=r;e=void 0===e?"init":e,i=""!==t,i=i&&n[t],i=i&&"function"==typeof n[t][e],i&&n[t][e](o)},loadEvents:function(){a.fire("common"),t.each(document.body.className.replace(/-/g,"_").split(/\s+/),function(t,e){a.fire(e),a.fire(e,"finalize")}),a.fire("common","finalize")}};t(document).ready(a.loadEvents),t(".posts-navigation").appendTo(".outer-container"),t(".nav-links")&&(t(".nav-links").addClass("container"),t(".nav-links").css({paddingBottom:120}),t(".nav-previous a").html("&larr; Older Posts"),t(".nav-next a").html("Newer Posts &rarr;")),t(".search-icon").click(function(){t(".search-form").css({display:"block"}),t("#searchform input").focus(),t(".x").click(function(){t(".search-form").css({display:"none"})})});var c=t(".post p").children(".alignnone").map(function(){return t(this).attr("src")}).get();t(".post p").children(".alignnone").map(function(e,o){t(this).attr("data-zoom-padding","0"),t(this).attr("data-zoom-url",c[e]),t(this).attr("data-zoom-overlay","true")}),t('<span class="heart-container"><div class="emoji-container"><svg class="kissy-emoji" width="22" height="23" viewBox="0 0 22 23" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>1f618 copy</title><defs><path id="a" d="M0 24.235h23.75V0H0z"/></defs><g transform="matrix(1 0 0 -1 -1 23.745)" fill="none" fill-rule="evenodd"><mask id="b" fill="#fff"><use xlink:href="#a"/></mask><g mask="url(#b)"><path d="M22.5 12.117c0-5.988-4.757-10.84-10.625-10.84-5.867 0-10.625 4.852-10.625 10.84 0 5.988 4.758 10.842 10.625 10.842 5.868 0 10.625-4.855 10.625-10.843" fill="#FFCC4D"/><path d="M9.375 13.712c0-1.234-.7-2.232-1.563-2.232s-1.562.998-1.562 2.232c0 1.233.7 2.232 1.563 2.232s1.562-1 1.562-2.232M18.41 12.247c-.037.086-.936 2.103-2.785 2.103-1.848 0-2.748-2.017-2.786-2.103-.058-.132-.02-.286.09-.377.11-.09.266-.094.38-.01.01.007.79.576 2.315.576 1.516 0 2.296-.562 2.314-.574.054-.042.12-.063.185-.063.07 0 .138.02.194.068.11.09.15.246.09.38M4.374 16.582c-.13 0-.26.04-.374.127-.276.21-.332.61-.125.892 2.04 2.774 4.76 2.806 4.875 2.806.345 0 .625-.286.625-.638 0-.35-.278-.636-.623-.637-.096-.002-2.23-.055-3.877-2.296-.123-.167-.31-.255-.5-.255M18.75 14.668c-.19 0-.377.088-.5.255-1.62 2.205-4.35 1.676-4.377 1.67-.342-.07-.668.156-.735.5-.07.346.15.683.49.75.143.032 3.535.685 5.622-2.154.208-.283.15-.683-.125-.894-.112-.086-.244-.128-.374-.128M13.67 5.74c.834.263 1.643.737 1.643 1.594 0 1.67-3.07 1.893-3.42 1.913-.172.016-.32-.123-.33-.3-.01-.173.12-.324.29-.337.022 0 2.21-.19 2.21-1.276 0-1.085-2.188-1.275-2.21-1.276-.01 0-.015-.006-.023-.007-.033-.003-.063-.01-.092-.024l-.01-.008c-.03-.016-.057-.035-.08-.06l-.022-.032c-.014-.02-.027-.04-.037-.065-.008-.018-.012-.037-.016-.057-.003-.015-.01-.028-.01-.043l.002-.02c0-.007-.003-.014-.003-.02 0-.016.008-.03.01-.044.005-.02.008-.038.016-.057.007-.02.018-.037.03-.054.01-.016.02-.032.032-.046.014-.015.032-.026.05-.038.014-.01.027-.022.045-.03.02-.01.04-.014.062-.018.014-.004.028-.01.043-.012.022-.002 2.21-.19 2.21-1.277 0-1.085-2.188-1.274-2.21-1.276-.17-.013-.3-.165-.29-.34.01-.168.148-.298.31-.298h.02c.35.02 3.42.243 3.42 1.913 0 .858-.81 1.332-1.644 1.595" fill="#664500"/></g></g></svg><svg class="emoji-heart-fill" width="23" height="21" viewBox="0 0 23 21" xmlns="http://www.w3.org/2000/svg"><title>path46</title><path d="M6.488.768c2.065 0 3.885 1.018 5 2.573C12.607 1.788 14.426.767 16.487.766c3.4 0 6.155 2.758 6.154 6.153.003.48-.06.948-.164 1.397-.854 5.306-6.754 10.91-10.982 12.446C7.266 19.224 1.36 13.627.504 8.32.4 7.87.34 7.404.34 6.92.34 3.527 3.095.77 6.488.77z" fill="#FF92D1" fill-rule="evenodd"/></svg></div></span>').insertBefore(".dot-irecommendthis"),t(".dot-irecommendthis").map(function(){t(".active").css({"background-image":'url("/app/themes/Stardust/dist/images/heart-filled.svg")'})}),t(".dot-irecommendthis").bind("click",function(){var e=t(this),o=e.prev(".heart-container").children(".emoji-container"),i=o.children(".kissy-emoji"),n=o.children(".emoji-heart-fill");return!e.hasClass("active")&&(e.delay(900).animate({"background-size":0},0),o.addClass("animate-emoji-container"),setTimeout(function(){n.addClass("blow-kiss")},400),void setTimeout(function(){i.addClass("hide-emoji")},900))}),"#reply-title"===window.location.hash&&setTimeout(function(){t("#comment").focus()},0);t(".mobile-nav-touchable").click(function(){t(".menu-item").toggleClass("spring"),this.drawerOpen=!this.drawerOpen,t(".nav-primary").toggleClass("nav-visible"),this.drawerOpen?(t(".nav-primary").animate({opacity:1},300,"swing"),t(".nav-primary").css({zIndex:1}),t(".mobile-nav-touchable").css({transform:"rotate(90deg)"}),t(".mobile-nav-touchable div").css({margin:"-1.5px auto",transform:"rotate(-45deg)",transition:"transform 200ms 200ms"}),t(".mobile-nav-touchable div:first").css({transform:"rotate(45deg)"}),t(".menu-item").css({opacity:1})):(t(".nav-primary").animate({opacity:0},300,"swing",function(){t(".nav-primary").css({zIndex:-1})}),t(".mobile-nav-touchable").css({transform:"rotate(0deg)"}),t(".mobile-nav-touchable div").css({margin:"3px auto",transform:"rotate(0deg)",transition:"transform 400ms"}),t(".mobile-nav-touchable div:first").css({transform:"rotate(0deg)"}),t(".menu-item").css({opacity:0}))}),t("a").click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")||location.hostname==this.hostname){var e=t(this.hash);if(e=e.length?e:t("[name="+this.hash.slice(1)+"]"),e.length)return t("html,body").animate({scrollTop:e.offset().top},500),!1}}),t(function(){t(window).scroll(function(){var e=t(this).scrollTop();e>300?t(".up").fadeIn():t(".up").fadeOut()})})}(jQuery);
//# sourceMappingURL=main.js.map
